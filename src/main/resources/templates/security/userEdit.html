<!DOCTYPE html>
<html lang="en" 
	  xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{_layout.html}">
      
      
<body>

	<div layout:fragment="content">
	
	<div class="pagetitle">
	      <h1>User Edit</h1>
	      <nav>
	        <ol class="breadcrumb">
	          <li class="breadcrumb-item"><a href="/index"><i class="bi bi-house-door"></i></a></li>
	          <li class="breadcrumb-item"><a href="/security">Security</a></li>
	          <li class="breadcrumb-item"><a href="/security/users">users</a></li>
	          <li class="breadcrumb-item active">Edit</li>
	        </ol>
	      </nav>
	    </div><!-- End Page Title -->
	
	<section class="section dashboard">
		
		<div class="row">
		
        <div class="col-lg-6">
        
        <div class="card">
            <div class="card-body">
              <h5 class="card-title">User Details</h5>

              <!-- Horizontal Form -->
              <form>
                <div class="row mb-3">
                  <label for="id" class="col-sm-3 col-form-label">Id</label>
                  <div class="col-sm-9">
                    <input name="id" th:value="${user.id}" disabled type="text"
                               class="form-control">
                  </div>
                </div>
                
                <div class="row mb-3">
                  <label for="firstname" class="col-sm-3 col-form-label">Firstname</label>
                  <div class="col-sm-9">
                    <input name="firstname" th:value="${user.firstname}" disabled type="text"
                               class="form-control">
                  </div>
                </div>
                
                
                <div class="row mb-3">
                  <label for="lastname" class="col-sm-3 col-form-label">Lastname</label>
                  <div class="col-sm-9">
                    <input name="lastname" th:value="${user.lastname}" disabled type="text"
                               class="form-control">
                  </div>
                </div>
                
                <div class="row mb-3">
                  <label for="username" class="col-sm-3 col-form-label">Username</label>
                  <div class="col-sm-9">
                    <input name="username" th:value="${user.username}" disabled type="text"
                               class="form-control">
                  </div>
                </div>
                
                
                
              </form><!-- End Horizontal Form -->

            </div>
          </div>
        
        </div>



<!-- #######################-->
		

        <div class="col-lg-6">

          <div class="card">
            <div class="card-body">
            
             <!-- title -->
              <h5 class="card-title " th:text="'Roles assigned to ' + ${user.username}"></h5>

             <div class="card top-selling overflow-auto">
				<div class="card-body pb-0">
				<br/>
              <table class="table table-borderless">
						<thead>
							<tr>
								<th scope="col"></th>
								<th scope="col">Description</th>
								<th scope="col">Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="userRole: ${userRoles}">
								<td scope="col"><i class="bi bi-shield-lock-fill fs-5"></i></td>
								<td th:text="${userRole.description}"></td>
								<td>
									<a type="button" class="btn-sm btn-danger"
										onclick="return confirm('Are you sure you want to unassign this role?')"
										th:href="@{'/security/role/unassign/'+${user.id}+'/' +${userRole.id}}">
										<i class="bi bi-person-dash-fill"></i>Unassign
									</a>
								
								</td>
								
							</tr>

						</tbody>
					</table>
					</div>
         		 </div>

            </div>
          </div>
        </div>
      </div>
	
	</section>
	
	
	
	<!-- Location List table -->
	<section class="section dashboard">
		<div class="container" style="width : 100%">
		
		<div class="col-lg-10">
          <div class="card ">
            <div class="card-body">
              <!-- title -->
              <h5 class="card-title " th:text="'Roles ' + ${user.username} + ' is not assigned to'"></h5>

             <div class="card top-selling overflow-auto">
				<div class="card-body pb-0">
				<br/>

					<table class="table table-borderless">
						<thead>
							<tr>
								<th scope="col"></th>
								<th scope="col">Description</th>
								<th scope="col">Details</th>
								<th scope="col">Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="userNotRole : ${userNotRoles}">
								<td scope="col"><i class="bi bi-shield-lock-fill fs-5"></i></td>
								<td th:text="${userNotRole.description}"></td>
								<td th:text="${userNotRole.details}"></td>
								<td>
									<a type="button" class="btn-sm btn-success"
										onclick="return confirm('Are you sure you want to assign this role?')"
										th:href="@{'/security/role/assign/'+${user.id}+'/' +${userNotRole.id}}">
										<i class="bi bi-person-plus-fill"></i>Assign
									</a>
								
								</td>
								
							</tr>

						</tbody>
					</table>

				</div>

			</div>

            </div>
          </div>
        </div>
	</div> <!-- End -->
	
	</section>
		
		</div>

</body>


</html>